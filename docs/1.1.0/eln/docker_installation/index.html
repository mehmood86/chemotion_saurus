<!doctype html>
<html class="docs-version-1.1.0" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/chemotionsaurus/blog/rss.xml" title="Chemotion RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/chemotionsaurus/blog/atom.xml" title="Chemotion Atom Feed"><title data-react-helmet="true">Docker Installation | Chemotion</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://chemotion.net/chemotionsaurus/docs/1.1.0/eln/docker_installation"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="1.1.0"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-1.1.0"><meta data-react-helmet="true" property="og:title" content="Docker Installation | Chemotion"><meta data-react-helmet="true" name="description" content="Documentation and processes are being reworked and improved at the moment. It may happen that you miss information. If you face problems, please let us know, we are there to support you. You may also contact us directly if you plan to install Chemotion."><meta data-react-helmet="true" property="og:description" content="Documentation and processes are being reworked and improved at the moment. It may happen that you miss information. If you face problems, please let us know, we are there to support you. You may also contact us directly if you plan to install Chemotion."><link data-react-helmet="true" rel="icon" href="/chemotionsaurus/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://chemotion.net/chemotionsaurus/docs/1.1.0/eln/docker_installation"><link data-react-helmet="true" rel="alternate" href="https://chemotion.net/chemotionsaurus/docs/1.1.0/eln/docker_installation" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://chemotion.net/chemotionsaurus/docs/1.1.0/eln/docker_installation" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://undefined-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/chemotionsaurus/assets/css/styles.962639bc.css">
<link rel="preload" href="/chemotionsaurus/assets/js/runtime~main.cd4bfac8.js" as="script">
<link rel="preload" href="/chemotionsaurus/assets/js/main.63004e89.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/chemotionsaurus/"><div class="navbar__logo"><img src="/chemotionsaurus/img/favicon.ico" alt="Chemotion" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/chemotionsaurus/img/favicon.ico" alt="Chemotion" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Chemotion</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link">Documentation</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/chemotionsaurus/docs/eln/intro">ELN</a></li><li><a class="dropdown__link" href="/chemotionsaurus/docs/repo/videos_repo">Repository</a></li><li><a class="dropdown__link" href="/chemotionsaurus/docs/docu/Set Up">About this documentation</a></li></ul></div><a class="navbar__item navbar__link" href="/chemotionsaurus/blog/newsroom">Newsroom</a></div><div class="navbar__items navbar__items--right"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search Documentation"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search Documentation</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/chemotionsaurus/docs/1.1.0/eln/videos_eln">ELN</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/chemotionsaurus/docs/1.1.0/eln/videos_eln">Introduction Videos</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" tabindex="0" href="/chemotionsaurus/docs/1.1.0/eln/native_installation">Installation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" tabindex="0" href="/chemotionsaurus/docs/1.1.0/eln/native_installation">Production</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/chemotionsaurus/docs/1.1.0/eln/native_installation">Native installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/chemotionsaurus/docs/1.1.0/eln/docker_installation">Docker installation</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/chemotionsaurus/docs/1.1.0/eln/development_native_installation">Development</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/chemotionsaurus/docs/1.1.0/eln/DevDocker">Docker</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/chemotionsaurus/docs/1.1.0/eln/settings">Configuration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/chemotionsaurus/docs/1.1.0/eln/about">Manual</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/chemotionsaurus/docs/1.1.0/eln/generic_config">Administration</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/chemotionsaurus/docs/1.1.0/eln/coming_soon">Coming soon</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/chemotionsaurus/docs/1.1.0/eln/devices">Device Integration</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/chemotionsaurus/docs/1.1.0/eln/specific_contact">Specific contact</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/chemotionsaurus/docs/1.1.0/eln/faq_eln">FAQ</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_cwdi"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_xORG"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Chemotion<!-- --> <b>1.1.0</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/chemotionsaurus/docs/eln/docker_installation">latest version</a></b> (<!-- -->1.1.1<!-- -->).</div></div><div class="docItemContainer_vinB"><article><span class="theme-doc-version-badge badge badge--secondary">Version: <!-- -->1.1.0</span><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Docker Installation</h1></header><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Documentation and processes are being reworked and improved at the moment. It may happen that you miss information. If you face problems, please let us know, we are there to support you. You may also <a href="/chemotionsaurus/docs/1.1.0/eln/specific_contact">contact</a> us directly if you plan to install Chemotion. </p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="preparation">Preparation<a class="hash-link" href="#preparation" title="Direct link to heading">​</a></h2><p>To setup the Chemotion ELN using Docker, Docker and Docker-Compose have to be installed on the host machine. Please refer to your distributions documentation on how this can be achieved. For Ubuntu-based machines, this can be found <a href="https://docs.docker.com/engine/install/ubuntu/" target="_blank" rel="noopener noreferrer">here</a>.</p><p>In addition you need that latest version of our Docker-Compose service description. This file can be found here:</p><p>  <a href="https://github.com/ptrxyz/chemotion/blob/main/client-chemotion/docker-compose.yml" target="_blank" rel="noopener noreferrer">docker-compose.yml</a>
(For other releases, check out our repository on DockerHub: <a href="https://hub.docker.com/r/ptrxyz/chemotion/tags?ordering=last_updated" target="_blank" rel="noopener noreferrer">https://hub.docker.com/r/ptrxyz/chemotion/tags?ordering=last_updated</a>)</p><p>Download this file and place it in a separate folder (further referred to as <code>CHEMOTION_PATH</code> as it will contain all the service description but also Chemotion&#x27;s configuration and data files):</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd $CHEMOTION_PATH</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -L -o docker-compose.yml https://raw.githubusercontent.com/ptrxyz/chemotion/main/client-chemotion/docker-compose.yml</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>As a next step, create the necessary folders for configuration, data sharing and the database:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd $CHEMOTION_PATH</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">mkdir config shared db-data</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">chown 1000:1000 config shared db-data</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Note: Make sure that the folders are read and writeable by UID 1000:1000.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="running-chemotion">Running Chemotion<a class="hash-link" href="#running-chemotion" title="Direct link to heading">​</a></h2><p>You are now ready to run the initialization. Please note that this will create a new database and delete any old database that might exist. Therefore it is curical that you do only run this command if you want to create a new instance of Chemotion.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd $CHEMOTION_PATH</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker-compose run eln init</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>As the previous command finishes, you are ready to start Chemotion:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker-compose up</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>You will see the system logs in your terminal and after the start-up you can access your fresh instance using a browser. The application is running on <code>http://localhost:4000</code>, the seeded administration account is <code>ADM</code> (all caps!) with password <code>PleaseChangeYourPassword</code>.</p><p>To start your instance in background mode, use <code>docker-compose up -d</code>.
To automagically start your services when the host machine boots, extend the compose file to contain the property <code>restart</code>, for example:</p><div class="codeBlockContainer_I0IT language-docker-compose.yml theme-code-block"><div class="codeBlockContent_wNvx docker-compose.yml"><pre tabindex="0" class="prism-code language-docker-compose.yml codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">services:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  db:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  worker:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    restart: unless-stopped</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ...    </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  eln:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    restart: unless-stopped</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ...   </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Please refer to the Docker documentation on how this property works: <a href="https://docs.docker.com/config/containers/start-containers-automatically/" target="_blank" rel="noopener noreferrer">https://docs.docker.com/config/containers/start-containers-automatically/</a></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="managing-your-instance">Managing your instance<a class="hash-link" href="#managing-your-instance" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="basic-information">Basic Information<a class="hash-link" href="#basic-information" title="Direct link to heading">​</a></h3><p>To get basic information about your instance, run:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker-compose run eln info</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>This will output storage, memory as well as several version information and ensure the fundamentally required runtime is correct.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="getting-a-shell-inside-the-container">Getting a shell inside the container<a class="hash-link" href="#getting-a-shell-inside-the-container" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="pre-v2106-3">Pre-v21.06-3<a class="hash-link" href="#pre-v2106-3" title="Direct link to heading">​</a></h4><p>To get access to the inside of the container, i.e to perform tasks based on the Rails console, one can use the following command:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker-compose run eln bash</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>This will drop you to a root shell inside the container. You are now free to perform any administrative tasks in the container context, but be aware that all changes are ephemeral and lost when the container is stopped. To access the host file system, a mount point has to be used, i.e. such as the already configured <code>/config</code> (which maps to <code>./config</code> on the host) or <code>/shared</code> (which maps to <code>./shared</code> on the host).</p><p>To change to the Chemotion user context, <code>sudo</code> can be used. The Chemotion user context is uid 1000, &quot;chemotion&quot;, also stored in the environment variable ${PROD}.
Note: It is important to source the user environment using <code>source $HOME/.profile</code> to make sure the right versions of ruby and node are used for any further commands.</p><p>The following command will change to the user context and setup user&#x27;s profile in an easy way:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">source /etc/init/functions.sh     # source helper functions, i.e. odus</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">odus bash                         # &quot;opposite of sudo&quot;, changes to user context and</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                  # makes sure environment is set up properly</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="v2106-3-and-later">v21.06-3 and later<a class="hash-link" href="#v2106-3-and-later" title="Direct link to heading">​</a></h4><p>As of version 21.06-3 and later, a build-in command is available to simplify this process:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker-compose eln run (user-shell|shell)   # use shell for a root shell, user-shell for a user shell.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="backing-up-your-data">Backing up your data<a class="hash-link" href="#backing-up-your-data" title="Direct link to heading">​</a></h2><p>To backup your data, it is sufficient to run the following command in the folder, where your Compose file resides:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo tar cfvz backup.tar.gz config shared db-data</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><blockquote><p>Note: It is adviced to setup a automaticly execute system task (i.e. cron job) to backup regularly. This is highly system specific and thus out of the scope of this documentation. Please refer to your OS&#x27;s manual to find out how to setup cron job/scheduled tasks.
In addition, you should always backup before upgradeing your installation.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_mojV" id="upgrading">Upgrading<a class="hash-link" href="#upgrading" title="Direct link to heading">​</a></h2><blockquote><p>Note: Before upgrading anything, we highly advice to create a backup (see above)! No backup? no pity!</p></blockquote><p>To upgrade your instance, change the version number of the Chemotion containers you are using in the <code>docker-compose.yml</code>:
if you open the file, you will find the settings <code>image: </code> for the services <code>eln</code> and <code>worker</code>. Change them to the version you want to use.</p><blockquote><p>Note: downgrading is not supported.</p></blockquote><p>Then stop the services: <code>docker-compose stop</code>
As a next step, run the upgrade script in the ELN context coming with your new container images: <code>docker-compose run eln upgrade</code>
This will make sure files are properly configured and the database schemes are adjusted if necessary.</p><blockquote><p>Note: Without this step, the containers will refuse to start to prevent any possible damage to your installation.</p></blockquote><p>Now, restart the services: <code>docker-compose restart</code></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="setting-up-a-reverse-proxy">Setting up a Reverse-Proxy<a class="hash-link" href="#setting-up-a-reverse-proxy" title="Direct link to heading">​</a></h3><p>To make the installation available to the public, the container&#x27;s ports should to be forwarded. We suggest to run NGINX as a reverse-proxy either in docker (by extending the Docker-Compose service description file) or stand-alone on the host. The application is (by default) listening on &#x27;0.0.0.0:4000&#x27;.</p><p>A demo service description as well as some sample configuration files for NGINX can be found in the Docker-Chemotion-Monorepo (<a href="https://github.com/ptrxyz/chemotion" target="_blank" rel="noopener noreferrer">https://github.com/ptrxyz/chemotion</a>) in the sub-folder <code>reverse-proxy</code>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ComPlat/chemotion_saurus/edit/master/versioned_docs/version-1.1.0/eln/docker-installation.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-04-14T06:54:56.000Z">4/14/2022</time></b> by <b>Danny Truong</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/chemotionsaurus/docs/1.1.0/eln/native_installation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Native installation</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/chemotionsaurus/docs/1.1.0/eln/development_native_installation"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Native installation</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#preparation" class="table-of-contents__link toc-highlight">Preparation</a></li><li><a href="#running-chemotion" class="table-of-contents__link toc-highlight">Running Chemotion</a></li><li><a href="#managing-your-instance" class="table-of-contents__link toc-highlight">Managing your instance</a><ul><li><a href="#basic-information" class="table-of-contents__link toc-highlight">Basic Information</a></li><li><a href="#getting-a-shell-inside-the-container" class="table-of-contents__link toc-highlight">Getting a shell inside the container</a></li></ul></li><li><a href="#backing-up-your-data" class="table-of-contents__link toc-highlight">Backing up your data</a></li><li><a href="#upgrading" class="table-of-contents__link toc-highlight">Upgrading</a><ul><li><a href="#setting-up-a-reverse-proxy" class="table-of-contents__link toc-highlight">Setting up a Reverse-Proxy</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/ComPlat/chemotion_ELN" target="_blank" rel="noopener noreferrer" class="footer__link-item">ELN GitHub</a></li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/ComPlat/chemotion_REPO" target="_blank" rel="noopener noreferrer" class="footer__link-item">Repository GitHub</a></li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/chemotionsaurus/about">Contact Us</a></li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/chemotionsaurus/admin">Admin</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Chemotion - KIT. Built with Docusaurus.</div></div></div></footer></div>
<script src="/chemotionsaurus/assets/js/runtime~main.cd4bfac8.js"></script>
<script src="/chemotionsaurus/assets/js/main.63004e89.js"></script>
</body>
</html>