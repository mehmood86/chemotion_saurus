<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/chemotionsaurus/blog/rss.xml" title="Chemotion RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/chemotionsaurus/blog/atom.xml" title="Chemotion Atom Feed"><title data-react-helmet="true">Native Installation | Chemotion</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://chemotion.net/chemotionsaurus/docs/next/eln/development_native_installation"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Native Installation | Chemotion"><meta data-react-helmet="true" name="description" content="This documentation describes an installation solution of the chemotion ELN system for development purposes with Rails 5 on Ubuntu 20.04."><meta data-react-helmet="true" property="og:description" content="This documentation describes an installation solution of the chemotion ELN system for development purposes with Rails 5 on Ubuntu 20.04."><link data-react-helmet="true" rel="icon" href="/chemotionsaurus/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://chemotion.net/chemotionsaurus/docs/next/eln/development_native_installation"><link data-react-helmet="true" rel="alternate" href="https://chemotion.net/chemotionsaurus/docs/next/eln/development_native_installation" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://chemotion.net/chemotionsaurus/docs/next/eln/development_native_installation" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://undefined-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/chemotionsaurus/assets/css/styles.962639bc.css">
<link rel="preload" href="/chemotionsaurus/assets/js/runtime~main.cd4bfac8.js" as="script">
<link rel="preload" href="/chemotionsaurus/assets/js/main.63004e89.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/chemotionsaurus/"><div class="navbar__logo"><img src="/chemotionsaurus/img/favicon.ico" alt="Chemotion" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/chemotionsaurus/img/favicon.ico" alt="Chemotion" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Chemotion</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link">Documentation</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/chemotionsaurus/docs/eln/intro">ELN</a></li><li><a class="dropdown__link" href="/chemotionsaurus/docs/repo/videos_repo">Repository</a></li><li><a class="dropdown__link" href="/chemotionsaurus/docs/docu/Set Up">About this documentation</a></li></ul></div><a class="navbar__item navbar__link" href="/chemotionsaurus/blog/newsroom">Newsroom</a></div><div class="navbar__items navbar__items--right"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search Documentation"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search Documentation</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/chemotionsaurus/docs/next/category/installation">ELN</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active hasHref_VCh3" aria-current="page" tabindex="0" href="/chemotionsaurus/docs/next/category/installation">Installation</a><button aria-label="Toggle the collapsible sidebar category &#x27;Installation&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/chemotionsaurus/docs/next/eln/native_installation">Production</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" tabindex="0" href="/chemotionsaurus/docs/next/eln/development_native_installation">Development</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/chemotionsaurus/docs/next/eln/development_native_installation">Native installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/chemotionsaurus/docs/next/eln/development_docker_installation">Docker installation</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" tabindex="0" href="/chemotionsaurus/docs/next/category/development">Development</a><button aria-label="Toggle the collapsible sidebar category &#x27;Development&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" tabindex="0" href="/chemotionsaurus/docs/next/category/configuration">Configuration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" tabindex="0" href="/chemotionsaurus/docs/next/category/manual">Manual</a><button aria-label="Toggle the collapsible sidebar category &#x27;Manual&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" tabindex="0" href="/chemotionsaurus/docs/next/category/admin-ui">Admin UI</a><button aria-label="Toggle the collapsible sidebar category &#x27;Admin UI&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" tabindex="0" href="/chemotionsaurus/docs/next/category/device-integration">Device integration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Device integration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/chemotionsaurus/docs/next/eln/faq_eln">FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/chemotionsaurus/docs/next/eln/specific_contact">Contact</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_cwdi"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_xORG"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Chemotion<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/chemotionsaurus/docs/eln/development_native_installation">latest version</a></b> (<!-- -->1.1.1<!-- -->).</div></div><div class="docItemContainer_vinB"><article><span class="theme-doc-version-badge badge badge--secondary">Version: <!-- -->Next</span><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Native Installation</h1></header><p>This documentation describes an installation solution of the chemotion ELN system for development purposes with Rails 5 on Ubuntu 20.04.  </p><h2 class="anchor anchorWithStickyNavbar_mojV" id="before-installation">Before Installation<a class="hash-link" href="#before-installation" title="Direct link to heading">​</a></h2><p>The installation script installs ELN through a default user, which is created during the installation. If you want to use another user or use an existing user, download the installation script (see <a href="#get-installation-script">Get installation script</a>) and change the varibale PROD at the top of the script.<br>
<!-- -->For the default user a random password is generated when newly created. If you want to login to the user after installation you can change the password in the script. For that search for the command <code>chpasswd</code> in the script.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="get-the-installation-script">Get the installation script<a class="hash-link" href="#get-the-installation-script" title="Direct link to heading">​</a></h2><p>Download the current development installation script (14.07.2021) from <a href="https://github.com/ComPlat/chemotion_ELN/tree/development-5/scripts" target="_blank" rel="noopener noreferrer">GitHub</a> and make it executable:</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -o install_development.sh -L https://raw.githubusercontent.com/ComPlat/chemotion_ELN/development-5/scripts/install_development.sh</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">chmod 700 install_development.sh</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo ./install_development.sh</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Or install the current script directly via curl:</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo curl -o- https://raw.githubusercontent.com/ComPlat/chemotion_ELN/development-5/scripts/install_development.sh | bash</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="errors-during-installation">Errors during installation<a class="hash-link" href="#errors-during-installation" title="Direct link to heading">​</a></h4><div class="boxBorder">You need to run &quot;nvm install vxx.xx.x&quot; to install it before using it.</div><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">nvm install vxx.xx.x</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Run the installation script again:</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo ./install_development.sh</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Another solution could be to comment out PART_5 in the installation script, where nvm and Node will be installed and run again:</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo ./install_development.sh</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="boxBorder">curl: (23) Failed writing body</div><p>Extended error message:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Warning: Failed to create the file /tmp/x.x.x: Permission </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Warning: denied</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  0 13.6M    0  1369    0     0   8398      0  0:28:19 --:--:--  0:28:19  8398</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl: (23) Failed writing body (0 != 1369)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">000:09 removing tmp files..</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">000:09 removing tmp repo..</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">000:09 An error has occured</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>This may occure if you install the chemotion ELN for multiple users on the same machine, because the global packages to be installed already exists, so either comment out the installation of the package which causes the problem or delete it.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="after-installation">After Installation<a class="hash-link" href="#after-installation" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="git-clone">Git clone<a class="hash-link" href="#git-clone" title="Direct link to heading">​</a></h3><p>After the installation of the desired libraries to use the chemotion ELN you need to clone the source code from <a href="https://github.com/ComPlat/chemotion_ELN" target="_blank" rel="noopener noreferrer">GitHub</a>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="change-configuration-files">Change configuration files<a class="hash-link" href="#change-configuration-files" title="Direct link to heading">​</a></h3><p>Before using the chemotion ELN you have to change some configurations. Change to the root folder of your ELN (e. g. <code>cd ~/chemotion_ELN</code>) and paste the following commands at once in your terminal:</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cp Gemfile.plugin.example Gemfile.plugin ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cp .ruby-gemset.example .ruby-gemset ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cp .ruby-version.example .ruby-version ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cp ./config/database.yml.example ./config/database.yml ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cp ./config/datacollectors.yml.example ./config/datacollectors.yml ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cp ./config/editors.yml.example ./config/editors.yml ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cp ./config/inference.yml.example ./config/inference.yml ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cp ./config/spectra.yml.example ./config/spectra.yml ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cp ./config/storage.yml.example ./config/storage.yml ;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cp ./config/user_props.yml.example ./config/user_props.yml</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="install-ruby-libraries">Install Ruby libraries<a class="hash-link" href="#install-ruby-libraries" title="Direct link to heading">​</a></h3><p>Change to the root folder of your ELN (e. g. <code>cd ~/chemotion_ELN</code>) where the <code>Gemfile</code> is located and type:</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">source ~/.rvm/scripts/rvm &amp;&amp; bundle install</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="errors">Errors<a class="hash-link" href="#errors" title="Direct link to heading">​</a></h4><div class="boxBorder">You might have to install separate package for the ruby development environment, ruby-dev or ruby-devel for example:</div><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo apt-get install ruby-full</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="install-node_modules">Install node_modules<a class="hash-link" href="#install-node_modules" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">source ~/.nvm/nvm.sh &amp;&amp; yarn install</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="errors-1">Errors<a class="hash-link" href="#errors-1" title="Direct link to heading">​</a></h4><div class="boxBorder">ERROR: [Errno 2] No such file or directory: &#x27;install&#x27;</div><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo apt-get remove --purge cmdtest</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">source ~/.nvm/nvm.sh &amp;&amp; nvm use 14.16.0 &amp;&amp; npm install -g yarn &amp;&amp; yarn install</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="update-database">Update database<a class="hash-link" href="#update-database" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo -u postgres psql</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ALTER USER postgres PASSWORD &#x27;&lt;your password&gt;&#x27;;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Open file <code>./config/databse.yml</code>, change host in development to <code>localhost</code> and update your password that you set above.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="errors-2">Errors<a class="hash-link" href="#errors-2" title="Direct link to heading">​</a></h4><div class="boxBorder">FATAL:  database &quot;chemotion_dev&quot; does not exist (ActiveRecord::NoDatabaseError)</div><p>Either the database settings in the <a href="https://github.com/ComPlat/chemotion_ELN/blob/development-5/config/database.yml.example" target="_blank" rel="noopener noreferrer">yml configuration file</a> needs to be changed or the database needs to be created in Postgres.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="migrate-data">Migrate data<a class="hash-link" href="#migrate-data" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">bundle exec rake db:create RAILS_ENV=development</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">bundle exec rake db:migrate RAILS_ENV=development</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="run-the-app">Run the app<a class="hash-link" href="#run-the-app" title="Direct link to heading">​</a></h3><p>You need to run two servers simultaneously in two different terminals: one for the rails app and one for webpack:</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">bundle exec rails s</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">bundle exec bin/webpack-dev-server</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Potentially a restart of the Rails server is needed because changes in JavaScript files below <code>app/</code> are monitored by the webpack server process.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="errors-3">Errors<a class="hash-link" href="#errors-3" title="Direct link to heading">​</a></h4><div class="boxBorder">Undefined method `new&#x27; for BigDecimal:Class (NoMethodError)</div><p>Open <code>Gemfile</code> and add:</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">gem &#x27;bigdecimal&#x27;, &#x27;1.3.5&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Run again:</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">bundle install</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Restart the servers. </p><div class="boxBorder">yarn run v1.22.10<p>error Command &quot;webpack&quot; not found.</p><p>info Visit <a href="https://yarnpkg.com/en/docs/cli/run" target="_blank" rel="noopener noreferrer">https://yarnpkg.com/en/docs/cli/run</a> for documentation about this command.</p></div><div class="boxBorder">Unable to run node_modules/.bin/browserify. Ensure you have installed it with npm. (BrowserifyRails::BrowserifyError)</div><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">source ~/.nvm/nvm.sh &amp;&amp; nvm use 14.16.0 &amp;&amp; yarn install</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Restart the servers. </p><h3 class="anchor anchorWithStickyNavbar_mojV" id="update-test-data">Update test data<a class="hash-link" href="#update-test-data" title="Direct link to heading">​</a></h3><p>Open web browser, signup and login. Download and import data from <a href="https://bwsyncandshare.kit.edu/s/kzpd8B5XdjMQ8gw" target="_blank" rel="noopener noreferrer">here</a>.<br>
<!-- -->Run:  </p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">bundle exec bin/delayed_job start</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="for-old-installations-upgrade-from-rails-4-to-rails-5">For old installations: Upgrade from Rails 4 to Rails 5<a class="hash-link" href="#for-old-installations-upgrade-from-rails-4-to-rails-5" title="Direct link to heading">​</a></h3><p>If you have an existing installation with Rails 4 and want to upgrade to Rails 5 you need to &quot;update&quot; your Ruby gems and node modules with yarn after checking out the development-5 branch:</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">bundle install</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">source ~/.nvm/nvm.sh &amp;&amp; nvm install 14.16.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">source ~/.nvm/nvm.sh &amp;&amp; nvm use 14.16.0 &amp;&amp; npm install -g npm &amp;&amp; npm install -g yarn &amp;&amp; yarn install</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>For a clean install it might be helpful - but not always required - to remove the previous packages that were installed by npm, only need to be done once:</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">rm -rf node_modules</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">source ~/.nvm/nvm.sh &amp;&amp; nvm use 14.16.0 &amp;&amp; yarn install</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>You need to run two servers simultaneously in two different terminals: one for the rails app and one for webpack:</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">bundle exec rails s</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">bundle exec bin/webpack-dev-server</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Potentially a restart of the Rails server is needed because changes in the JavaScript files below <code>app/</code> are monitored by the webpack server process.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ComPlat/chemotion_saurus/edit/master/docs/eln/dev_native_install.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2021-11-30T13:30:09.000Z">11/30/2021</time></b> by <b>fthomas92</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/chemotionsaurus/docs/next/eln/docker_installation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Docker installation</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/chemotionsaurus/docs/next/eln/development_docker_installation"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Docker installation</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#before-installation" class="table-of-contents__link toc-highlight">Before Installation</a></li><li><a href="#get-the-installation-script" class="table-of-contents__link toc-highlight">Get the installation script</a></li><li><a href="#after-installation" class="table-of-contents__link toc-highlight">After Installation</a><ul><li><a href="#git-clone" class="table-of-contents__link toc-highlight">Git clone</a></li><li><a href="#change-configuration-files" class="table-of-contents__link toc-highlight">Change configuration files</a></li><li><a href="#install-ruby-libraries" class="table-of-contents__link toc-highlight">Install Ruby libraries</a></li><li><a href="#install-node_modules" class="table-of-contents__link toc-highlight">Install node_modules</a></li><li><a href="#update-database" class="table-of-contents__link toc-highlight">Update database</a></li><li><a href="#migrate-data" class="table-of-contents__link toc-highlight">Migrate data</a></li><li><a href="#run-the-app" class="table-of-contents__link toc-highlight">Run the app</a></li><li><a href="#update-test-data" class="table-of-contents__link toc-highlight">Update test data</a></li><li><a href="#for-old-installations-upgrade-from-rails-4-to-rails-5" class="table-of-contents__link toc-highlight">For old installations: Upgrade from Rails 4 to Rails 5</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/ComPlat/chemotion_ELN" target="_blank" rel="noopener noreferrer" class="footer__link-item">ELN GitHub</a></li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/ComPlat/chemotion_REPO" target="_blank" rel="noopener noreferrer" class="footer__link-item">Repository GitHub</a></li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/chemotionsaurus/about">Contact Us</a></li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/chemotionsaurus/admin">Admin</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Chemotion - KIT. Built with Docusaurus.</div></div></div></footer></div>
<script src="/chemotionsaurus/assets/js/runtime~main.cd4bfac8.js"></script>
<script src="/chemotionsaurus/assets/js/main.63004e89.js"></script>
</body>
</html>