"use strict";(self.webpackChunkchemotion_saurus=self.webpackChunkchemotion_saurus||[]).push([[6795],{3905:function(e,t,n){n.d(t,{Zo:function(){return h},kt:function(){return p}});var i=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=i.createContext({}),c=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},h=function(e){var t=c(e.components);return i.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,h=s(e,["components","mdxType","originalType","parentName"]),m=c(n),p=o,u=m["".concat(l,".").concat(p)]||m[p]||d[p]||a;return n?i.createElement(u,r(r({ref:t},h),{},{components:n})):i.createElement(u,r({ref:t},h))}));function p(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,r=new Array(a);r[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,r[1]=s;for(var c=2;c<a;c++)r[c]=n[c];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},3419:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return h},default:function(){return m}});var i=n(7462),o=n(3366),a=(n(7294),n(3905)),r=["components"],s={id:"devices_nmr_magritek",slug:"devices_nmr_magritek",title:"Magritek NMR Integration"},l=void 0,c={unversionedId:"eln/devices_nmr_magritek",id:"version-1.1.1/eln/devices_nmr_magritek",title:"Magritek NMR Integration",description:"This guide explains how to add Magritek NMR to the Chemotion ELN device pool. The protocol enables remote access to the",source:"@site/versioned_docs/version-1.1.1/eln/devices_nmr_magritek.mdx",sourceDirName:"eln",slug:"/eln/devices_nmr_magritek",permalink:"/chemotionsaurus/docs/eln/devices_nmr_magritek",editUrl:"https://github.com/ComPlat/chemotion_saurus/edit/master/versioned_docs/version-1.1.1/eln/devices_nmr_magritek.mdx",tags:[],version:"1.1.1",lastUpdatedBy:"Tasnim Mehzabin",lastUpdatedAt:1656669684,formattedLastUpdatedAt:"7/1/2022",frontMatter:{id:"devices_nmr_magritek",slug:"devices_nmr_magritek",title:"Magritek NMR Integration"},sidebar:"elnSidebar",previous:{title:"Bruker NMR spectrometers",permalink:"/chemotionsaurus/docs/eln/devices_nmr"},next:{title:"FAQ",permalink:"/chemotionsaurus/docs/eln/faq_eln"}},h=[{value:"Specifications of the Magritek NMR device",id:"specifications-of-the-magritek-nmr-device",children:[],level:2},{value:"Remote Device Control",id:"remote-device-control",children:[{value:"Configurations in NMR PC",id:"configurations-in-nmr-pc",children:[],level:3},{value:"Configurations in Chemotion ELN",id:"configurations-in-chemotion-eln",children:[],level:3}],level:2},{value:"Data transfer",id:"data-transfer",children:[{value:"Configurations in NMR PC",id:"configurations-in-nmr-pc-1",children:[],level:3},{value:"Configurations in Spinsolve",id:"configurations-in-spinsolve",children:[],level:3},{value:"Configurations in Chemotion ELN",id:"configurations-in-chemotion-eln-1",children:[],level:3}],level:2}],d={toc:h};function m(e){var t=e.components,s=(0,o.Z)(e,r);return(0,a.kt)("wrapper",(0,i.Z)({},d,s,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"This guide explains how to add Magritek NMR to the Chemotion ELN device pool. The protocol enables remote access to the\nPC running Spinsolve and the transfer of experiment data to the Chemotion ELN\u2019s inbox. Both these can be set up\nseparately, with neither relying on the other. The data transfer is configured for experiments conducted directly in\nSpinsolve."),(0,a.kt)("h1",{id:"general-preparation-aspects"},"General preparation aspects"),(0,a.kt)("p",null,"Primarily the integration of devices depends on several factors as,"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Operating system of the PC"),(0,a.kt)("li",{parentName:"ul"},"Vendor software of the device"),(0,a.kt)("li",{parentName:"ul"},"Network connection (What IP address and what type of network)"),(0,a.kt)("li",{parentName:"ul"},"File types etc")),(0,a.kt)("p",null,"Some basic requirements to integrate the devices are as follows,"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Operating system: Windows (Minimum Windows XP. No Windows 98 or Windows 95), preferably Windows 10 or Windows 11.\nLinux based system is also possible"),(0,a.kt)("li",{parentName:"ul"},"Network: Access to the KIT intranet. Either a static IP address or FQDN (fully qualified domain name) is required"),(0,a.kt)("li",{parentName:"ul"},"Administrator rights to the system\u2019s operating system")),(0,a.kt)("p",null,"Considering all these aspects, this procedure has been conducted on the following system configurations. However it is\nlikely to work on systems with different software versions as well."),(0,a.kt)("h2",{id:"specifications-of-the-magritek-nmr-device"},"Specifications of the Magritek NMR device"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Operating system: Windows 10"),(0,a.kt)("li",{parentName:"ul"},"Software Name: Spinsolve (Version: 2.0.1)"),(0,a.kt)("li",{parentName:"ul"},"Connected to Internet/Intranet: Yes"),(0,a.kt)("li",{parentName:"ul"},"Data files generated: 1D file (.1d)"),(0,a.kt)("li",{parentName:"ul"},"Static IP address has been configured")),(0,a.kt)("h1",{id:"objectives"},"Objectives"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Remote Device Control"),(0,a.kt)("li",{parentName:"ul"},"Data transfer to Chemotion ELN inbox")),(0,a.kt)("p",null,"For the NMR integration, we have decided to configure both these features."),(0,a.kt)("h1",{id:"configurations"},"Configurations"),(0,a.kt)("h2",{id:"remote-device-control"},"Remote Device Control"),(0,a.kt)("p",null,"Users will be able to access the NMR PC through the Chemotion ELN. For that we have to make sure that the NMR PC and the\nChemotion ELN are connected to a common LAN. Furthermore the firewall of the LAN needs to allow VNC connections to be\nestablished."),(0,a.kt)("h3",{id:"configurations-in-nmr-pc"},"Configurations in NMR PC"),(0,a.kt)("p",null,"This has been achieved by the installation of the software, ",(0,a.kt)("a",{parentName:"p",href:"https://www.tightvnc.com/download.php"},"TightVNC")," (Installer\nfor Windows, 64-bit). Users can access the computer remotely through Chemotion ELN through this. We have to configure it\nas follows,"),(0,a.kt)("p",null,"On the setup screen, we have to select the TightVNC server to be installed following the set up of the passwords for\nremote access and administrative password."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"devices_NMR_magritek_1",src:n(4411).Z,width:"557",height:"421"}),"\n",(0,a.kt)("img",{alt:"devices_NMR_magritek_2",src:n(6580).Z,width:"709",height:"465"})),(0,a.kt)("p",null,"After installation, we have to make sure it is accepting incoming connections at port 5900 and also for added security,\nwe have to whitelist the IP address of the Chemotion ELN only. Also we select the option so that the administrative\npassword is needed to make any changes or for each operation."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"devices_NMR_magritek_3",src:n(1066).Z,width:"651",height:"580"}),"\n",(0,a.kt)("img",{alt:"devices_NMR_magritek_4",src:n(5775).Z,width:"681",height:"591"}),"\n",(0,a.kt)("img",{alt:"devices_NMR_magritek_5",src:n(1461).Z,width:"654",height:"596"})),(0,a.kt)("h3",{id:"configurations-in-chemotion-eln"},"Configurations in Chemotion ELN"),(0,a.kt)("p",null,"There are basically two types of configurations we have to perform in Chemotion ELN,"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"As an admin of Chemotion ELN"),(0,a.kt)("li",{parentName:"ul"},"As an admin of the group which the device belongs to")),(0,a.kt)("p",null,"As an admin of Chemotion ELN, we have to create the device corresponding to Magritek NMR and configure the NoVNC settings\nfor it with a token."),(0,a.kt)("p",null,"On the other hand, as an admin of the group which the device belongs to, we have to make sure that the user belongs to the group in\nChemotion ELN in order to get access to the device. For example, in the screenshot below, any user who belongs to the\ngroup, Device Pool AK Theato in Chemotion ELN will have remote access to the device, Magritek NMR, in the campus West\nof KIT. If the user is not already in the group, then the group admin will have to add the user from Chemotion ELN."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"devices_NMR_magritek_6",src:n(2338).Z,width:"1528",height:"707"})),(0,a.kt)("p",null,"For a user who is in the group, the user has to log in to the Chemotion ELN at\n",(0,a.kt)("a",{parentName:"p",href:"https://complat-eln.ioc.kit.edu/home"},"https://complat-eln.ioc.kit.edu/home"),". Then he can access the device as follows,"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"devices_NMR_magritek_7",src:n(5552).Z,width:"1528",height:"768"}),"\n",(0,a.kt)("img",{alt:"devices_NMR_magritek_8",src:n(5422).Z,width:"1513",height:"768"})),(0,a.kt)("p",null,"For further information regarding the VNC settings, see the\n",(0,a.kt)("a",{parentName:"p",href:"settings#vnc"},"VNC settings page")),(0,a.kt)("h2",{id:"data-transfer"},"Data transfer"),(0,a.kt)("p",null,"Here transfer of the output file to Chemotion ELN will occur automatically after the experiment is completed and a new\ndata file is generated. User only needs to make sure to name the sample according to the\n",(0,a.kt)("a",{parentName:"p",href:"devices#name-conventions"},"naming convention"),"."),(0,a.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"Please take care that you communicate name conventions to all users of the Chemotion ELN:\n",(0,a.kt)("a",{parentName:"p",href:"https://www.chemotion.net/chemotionsaurus/docs/eln/devices#name-conventions"},"https://www.chemotion.net/chemotionsaurus/docs/eln/devices#name-conventions")))),(0,a.kt)("h3",{id:"configurations-in-nmr-pc-1"},"Configurations in NMR PC"),(0,a.kt)("p",null,"The NMR's PC and the Chemotion ELN both need access to a common network storage location. This can be set up on a\nthird-party storage (a NAS server, shared storage of another PC etc) or it can be set up locally on the NMR PC."),(0,a.kt)("p",null,"In this case, the LSDF storage service from KIT has been used which has been later on mounted in the NMR\u2019s PC as a\nnetwork drive under Netzwerkadressen i.e. Network Address. For this guide, the LSDF folder was mounted as a network\ndrive of the NMR PC using the ",(0,a.kt)("a",{parentName:"p",href:"https://wiki.scc.kit.edu/lsdf/index.php/LSDF_Online_Storage:_SMB_/_CIFS#Using_SMB.2FCIFS_on_Windows"},"SMB/CIFS on Windows"),"\nconfigurations."),(0,a.kt)("h3",{id:"configurations-in-spinsolve"},"Configurations in Spinsolve"),(0,a.kt)("p",null,"We can see that the data is stored both locally and on a remote server when we look at Spinsolve's data storage options.\nNow as for the remote backup storage location, the network drive we created will be used. The Chemotion ELN also has\naccess to this storage location. The experiment data file will be automatically saved at this location besides the local\ndrive and  Chemotion ELN will be able to retrieve and transfer it to the appropriate user's inbox."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"devices_NMR_magritek_10",src:n(7953).Z,width:"1512",height:"981"})),(0,a.kt)("p",null,"To make sure that Chemotion ELN is able to transfer it to the appropriate user's inbox, we have to make sure the samples\nare named following the naming convention ",(0,a.kt)("a",{parentName:"p",href:"devices#name-conventions"},"rules"),"."),(0,a.kt)("p",null,"Here the naming of the sample has started with the name abbreviation (K\xfcrzel) of a certain user to whom the experiment\ndata file will be sent."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"devices_NMR_magritek_11",src:n(2841).Z,width:"722",height:"704"})),(0,a.kt)("p",null,"Now data experiment data will be transferred to the network storage location so that the data collector of Chemotion\nELN can retrieve it from there."),(0,a.kt)("h3",{id:"configurations-in-chemotion-eln-1"},"Configurations in Chemotion ELN"),(0,a.kt)("p",null,"The Chemotion ELN\u2019s data collector has to be configured to collect data from the NMR from the network location."),(0,a.kt)("p",null,"As the file collector mechanism, there are two options."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Collecting attachment files from emails"),(0,a.kt)("li",{parentName:"ul"},"Collecting file or folder from local drives or over SCP")),(0,a.kt)("p",null,"Here in this guide we have used the second mechanism where the files are collected from remote storage locations and are\ndistributed to specific users based on the file-name matching the name abbreviation of the user."),(0,a.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"See details")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},(0,a.kt)("a",{parentName:"p",href:"settings#file-collection"},"File collector setting page")))))}m.isMDXComponent=!0},4411:function(e,t,n){t.Z=n.p+"assets/images/devices_nmr_magritek_1-c3fbdc0c9126c1119ca0c347e0dc5111.png"},7953:function(e,t,n){t.Z=n.p+"assets/images/devices_nmr_magritek_10-f52aeb24fab23f7e2f31e38e23fe345c.png"},2841:function(e,t,n){t.Z=n.p+"assets/images/devices_nmr_magritek_11-da34666a7ff183ec4a24f199d54c0823.png"},6580:function(e,t,n){t.Z=n.p+"assets/images/devices_nmr_magritek_2-250ca3f2ad026c60ca84d699e3698648.png"},1066:function(e,t,n){t.Z=n.p+"assets/images/devices_nmr_magritek_3-c9913f14aef7d3b87379b237936bae68.png"},5775:function(e,t,n){t.Z=n.p+"assets/images/devices_nmr_magritek_4-c27a2441ec4c02454117d5c4b29ad1c2.png"},1461:function(e,t,n){t.Z=n.p+"assets/images/devices_nmr_magritek_5-a2c6b0b2e65f9ef640cb47a5d17c8695.png"},2338:function(e,t,n){t.Z=n.p+"assets/images/devices_nmr_magritek_6-c5bad89376c9af7e6fb29cfe4b88ae52.png"},5552:function(e,t,n){t.Z=n.p+"assets/images/devices_nmr_magritek_7-b512e6eee9e38f72cd4efb5fd94d7029.png"},5422:function(e,t,n){t.Z=n.p+"assets/images/devices_nmr_magritek_8-4137d0f2f4b27c10b4e4d4d6652eaff4.png"}}]);